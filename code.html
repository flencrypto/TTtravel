<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Christina's Adventure">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <title>Christina's South American Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;libraries=places"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600;700&display=swap');
        
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFE66D;
            --dark: #292F36;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F7FAFC;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
        }
        
        .title-font {
            font-family: 'Pacifico', cursive;
        }
        
        .map-container {
            height: 400px;
            background-image: url('https://maps.googleapis.com/maps/api/staticmap?center=-8.7832,-55.4915&zoom=3&size=800x400&maptype=roadmap&key=YOUR_API_KEY');
            background-size: cover;
            background-position: center;
            border-radius: 16px;
        }
        
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 16px;
        }
        
        .photo-item {
            height: 200px;
            overflow: hidden;
            border-radius: 8px;
            transition: transform 0.3s ease;
        }

        .collapsible-content {
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .photo-item:hover {
            transform: scale(1.03);
        }

        input[type="text"] {
            color: inherit;
        }

        input[type="text"]:focus {
            background-color: rgba(255,255,255,0.1);
            border-radius: 4px;
        }
        
        .packing-item.completed {
            text-decoration: line-through;
            opacity: 0.7;
        }
        
        .country-flag {
            width: 30px;
            height: 20px;
            border-radius: 3px;
            margin-right: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .animated-bg {
            background: linear-gradient(-45deg, #FF6B6B, #4ECDC4, #FFE66D, #292F36);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="min-h-screen" style="min-height: calc(var(--vh, 1vh) * 100);">
    <!-- Header -->
    <header class="animated-bg text-white py-8 px-4 shadow-lg">
        <div class="container mx-auto relative">
            <a href="#home-page" class="absolute top-4 left-4 bg-white bg-opacity-20 rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-30 transition">
                <i class="fas fa-home"></i>
            </a>
            <h1 class="title-font text-4xl md:text-5xl text-center mb-2">Christina's South American Adventure</h1>
            <p class="text-center text-xl opacity-90">Exploring the wonders of South America</p>
            <div class="flex justify-center mt-4">
                <div class="flex items-center bg-white bg-opacity-20 rounded-full px-4 py-1">
                    <i class="fas fa-calendar-alt mr-2"></i>
                    <input type="text" value="June 15, 2023" class="bg-transparent border-none w-24 text-center focus:outline-none focus:ring-0">
                    <span class="mx-1">-</span>
                    <input type="text" value="July 30, 2023" class="bg-transparent border-none w-24 text-center focus:outline-none focus:ring-0">
                </div>
            </div>
        </div>
    </header>

    <!-- iPhone Style Home Screen -->
    <main id="home-page" class="bg-gray-100 min-h-screen pb-24">
        <div class="grid grid-cols-4 gap-6 p-6">
            <!-- Map App Icon -->
            <a href="#map-page" class="flex flex-col items-center">
                <div class="bg-green-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-map text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Trip Map</span>
            </a>

            <!-- Itinerary App Icon -->
            <a href="#itinerary-page" class="flex flex-col items-center">
                <div class="bg-blue-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-calendar-day text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Itinerary</span>
            </a>

            <!-- Packing App Icon -->
            <a href="#packing-page" class="flex flex-col items-center">
                <div class="bg-yellow-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-suitcase text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Packing</span>
            </a>

            <!-- Photos App Icon -->
            <a href="#photos-page" class="flex flex-col items-center">
                <div class="bg-purple-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-images text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Photos</span>
            </a>

            <!-- Nearby App Icon -->
            <a href="#nearby-page" class="flex flex-col items-center">
                <div class="bg-red-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-map-marker-alt text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Nearby</span>
            </a>

            <!-- Highlights App Icon -->
            <a href="#highlights-page" class="flex flex-col items-center">
                <div class="bg-indigo-500 w-16 h-16 rounded-xl flex items-center justify-center shadow-md">
                    <i class="fas fa-star text-white text-2xl"></i>
                </div>
                <span class="text-xs mt-2 text-center">Highlights</span>
            </a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-md p-6 flex items-center">
                <div class="bg-pink-100 p-4 rounded-full mr-4">
                    <i class="fas fa-map-marked-alt text-pink-600 text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-gray-500 text-sm">Countries</h3>
                    <p class="text-2xl font-bold">4</p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6 flex items-center">
                <div class="bg-blue-100 p-4 rounded-full mr-4">
                    <i class="fas fa-city text-blue-600 text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-gray-500 text-sm">Cities</h3>
                    <p class="text-2xl font-bold">12</p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6 flex items-center">
                <div class="bg-green-100 p-4 rounded-full mr-4">
                    <i class="fas fa-plane text-green-600 text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-gray-500 text-sm">Flights</h3>
                    <p class="text-2xl font-bold">6</p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6 flex items-center">
                <div class="bg-yellow-100 p-4 rounded-full mr-4">
                    <i class="fas fa-camera text-yellow-600 text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-gray-500 text-sm">Photos</h3>
                    <p class="text-2xl font-bold">127</p>
                </div>
            </div>
        </div>

        <!-- Map Page -->
        <div id="map-page" class="hidden bg-white min-h-screen pb-24">
            <div class="sticky top-0 bg-white p-4 border-b flex items-center justify-between z-10">
                <a href="#" class="back-btn mr-4 text-blue-500">
                    <i class="fas fa-chevron-left"></i>
                </a>
                <h2 class="text-xl font-bold">Trip Map</h2>
                <a href="#" class="home-btn text-blue-500">
                    <i class="fas fa-home"></i>
                </a>
            </div>
            <!-- Map -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden">
                <div class="p-4 border-b">
                    <h2 class="text-xl font-bold flex items-center">
                        <i class="fas fa-map mr-2 text-green-500"></i>
                        Trip Map
                    </h2>
                </div>
                <div id="interactive-map" class="map-container relative">
                    <div class="absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg px-3 py-2 shadow-md">
                        <div class="flex items-center">
                            <img src="https://flagcdn.com/w20/br.png" class="country-flag" alt="Brazil">
                            <span>Rio de Janeiro</span>
                        </div>
                        <div class="flex items-center mt-1">
                            <img src="https://flagcdn.com/w20/pe.png" class="country-flag" alt="Peru">
                            <span>Machu Picchu</span>
                        </div>
                        <div class="flex items-center mt-1">
                            <img src="https://flagcdn.com/w20/cl.png" class="country-flag" alt="Chile">
                            <span>Atacama Desert</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Itinerary Page -->
        <div id="itinerary-page" class="hidden bg-white min-h-screen pb-24">
            <div class="sticky top-0 bg-white p-4 border-b flex items-center justify-between z-10">
                <a href="#" class="back-btn mr-4 text-blue-500">
                    <i class="fas fa-chevron-left"></i>
                </a>
                <h2 class="text-xl font-bold">Upcoming Itinerary</h2>
                <a href="#" class="home-btn text-blue-500">
                    <i class="fas fa-home"></i>
                </a>
            </div>
            <div class="p-4">
                <div class="p-4 border-b">
                    <h2 class="text-xl font-bold flex items-center">
                        <i class="fas fa-calendar-day mr-2 text-blue-500"></i>
                        Upcoming Itinerary
                    </h2>
                </div>
                <div class="divide-y">
                    <div class="p-4 hover:bg-gray-50 transition group">
                        <div class="flex items-start">
                            <div class="bg-blue-100 text-blue-800 rounded-lg px-3 py-1 text-center mr-4">
                                <div class="font-bold">JUN</div>
                                <div class="text-xl">18</div>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <h3 class="font-semibold">Arrival in Rio de Janeiro</h3>
                                    <button class="calendar-btn opacity-0 group-hover:opacity-100 text-blue-500" 
                                            data-title="Arrival in Rio" 
                                            data-start="2023-06-18T09:30:00" 
                                            data-end="2023-06-18T10:30:00"
                                            data-location="Galeão International Airport">
                                        <i class="fas fa-calendar-plus"></i>
                                    </button>
                                </div>
                                <p class="text-gray-600 text-sm">Flight lands at 9:30 AM</p>
                                <div class="flex items-center mt-1 text-sm">
                                    <i class="fas fa-hotel mr-2 text-blue-400"></i>
                                    <span>Copacabana Palace Hotel</span>
                                    <a href="#" class="ml-auto text-blue-500 hover:text-blue-700 directions-btn" 
                                       data-lat="-22.9068" 
                                       data-lng="-43.1729">
                                        <i class="fas fa-directions"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-4 hover:bg-gray-50 transition">
                        <div class="flex items-start">
                            <div class="bg-blue-100 text-blue-800 rounded-lg px-3 py-1 text-center mr-4">
                                <div class="font-bold">JUN</div>
                                <div class="text-xl">19</div>
                            </div>
                            <div>
                                <h3 class="font-semibold">Christ the Redeemer & Sugarloaf</h3>
                                <p class="text-gray-600 text-sm">Full day tour</p>
                                <div class="flex items-center mt-1 text-sm">
                                    <i class="fas fa-utensils mr-2 text-green-400"></i>
                                    <span>Dinner at Aprazível</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-4 hover:bg-gray-50 transition">
                        <div class="flex items-start">
                            <div class="bg-blue-100 text-blue-800 rounded-lg px-3 py-1 text-center mr-4">
                                <div class="font-bold">JUN</div>
                                <div class="text-xl">20</div>
                            </div>
                            <div>
                                <h3 class="font-semibold">Beach Day & Samba Night</h3>
                                <p class="text-gray-600 text-sm">Free day to explore</p>
                                <div class="flex items-center mt-1 text-sm">
                                    <i class="fas fa-music mr-2 text-purple-400"></i>
                                    <span>Rio Scenarium at 8 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4 text-center border-t">
                    <button class="text-blue-600 hover:text-blue-800 font-medium">
                        View Full Itinerary <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Packing List -->
        <div class="bg-white rounded-xl shadow-md mb-12">
            <div class="p-4 border-b flex justify-between items-center">
                <h2 class="text-xl font-bold flex items-center">
                    <i class="fas fa-suitcase mr-2 text-yellow-500"></i>
                    Packing List
                </h2>
                <button class="toggle-btn text-gray-500 hover:text-gray-700">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="collapsible-content max-h-[500px]" data-expanded="true">
                <div class="p-4">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div>
                        <h3 class="font-semibold mb-2 text-gray-700"><i class="fas fa-tshirt mr-2"></i>Clothing</h3>
                        <ul class="space-y-2">
                            <li class="packing-item flex items-center group">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="flex-1">5 T-shirts</span>
                                <button class="camera-btn opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-500 ml-2">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>3 Dresses</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <span>Swimsuit</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>Light jacket</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="font-semibold mb-2 text-gray-700"><i class="fas fa-toiletries mr-2"></i>Toiletries</h3>
                        <ul class="space-y-2">
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <span>Sunscreen SPF 50</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>Bug repellent</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <span>Travel shampoo</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>First aid kit</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="font-semibold mb-2 text-gray-700"><i class="fas fa-laptop mr-2"></i>Electronics</h3>
                        <ul class="space-y-2">
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <span>Camera</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>Universal adapter</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span>Portable charger</span>
                            </li>
                            <li class="packing-item flex items-center">
                                <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <span>Phone</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="flex items-center">
                        <input type="text" placeholder="Add new item..." class="flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 transition">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <!-- Photo Gallery -->
        <div class="bg-white rounded-xl shadow-md mb-12">
            <div class="p-4 border-b flex justify-between items-center">
                <h2 class="text-xl font-bold flex items-center">
                    <i class="fas fa-images mr-2 text-purple-500"></i>
                    Photo Gallery
                </h2>
                <button class="toggle-btn text-gray-500 hover:text-gray-700">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="collapsible-content max-h-[500px]" data-expanded="true">
                <div class="p-4">
                <div class="photo-gallery" id="photo-container">
                    <!-- Photos will be loaded here with metadata -->
                </div>
                <div class="mt-2 text-center text-sm text-gray-500" id="photo-stats">
                    <span id="photo-count">0</span> photos • <span id="photo-locations">0</span> locations
                </div>
                <div class="mt-4 text-center">
                    <label for="photo-upload" class="bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition cursor-pointer touch-callout: none; -webkit-touch-callout: none;">
                        <i class="fas fa-camera mr-2"></i> Upload Photos
                        <input type="file" id="photo-upload" accept="image/*" multiple class="hidden">
                    </label>
                    <div id="upload-progress" class="mt-2 text-sm text-gray-600 hidden">
                        Uploading <span id="upload-count">0</span> photos...
                    </div>
                </div>
            </div>
        </div>

        </div>
        <!-- Nearby Recommendations -->
        <div class="bg-white rounded-xl shadow-md mb-12">
            <div class="p-4 border-b flex justify-between items-center">
                <h2 class="text-xl font-bold flex items-center">
                    <i class="fas fa-map-marker-alt mr-2 text-red-500"></i>
                    Nearby Recommendations
                </h2>
                <button class="toggle-btn text-gray-500 hover:text-gray-700">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="collapsible-content max-h-[500px]" data-expanded="true">
                <div class="p-4">
                <div class="flex flex-col mb-4">
                    <div class="flex">
                        <select id="place-type" class="border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="restaurant">Restaurants</option>
                            <option value="cafe">Cafés</option>
                            <option value="bar">Bars</option>
                            <option value="tourist_attraction">Attractions</option>
                            <option value="hotel">Hotels</option>
                            <option value="shopping_mall">Shopping</option>
                        </select>
                        <button id="find-nearby" class="bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 transition">
                            <i class="fas fa-search mr-1"></i> Find
                        </button>
                    </div>
                    <div class="mt-2 flex items-center">
                        <input type="range" id="distance-range" min="100" max="5000" value="1000" step="100" class="flex-1">
                        <span id="distance-value" class="ml-2 text-sm font-medium">1 km</span>
                    </div>
                    <div class="mt-1 flex justify-between text-xs text-gray-500">
                        <span>Near</span>
                        <span>Far</span>
                    </div>
                </div>
                <div id="nearby-results" class="space-y-4"></div>
                <div id="location-status" class="text-sm text-gray-500 mt-2"></div>
            </div>
        </div>
    </div>

        <!-- Highlights -->
        <div class="bg-white rounded-xl shadow-md">
            <div class="p-4 border-b flex justify-between items-center">
                <h2 class="text-xl font-bold flex items-center">
                    <i class="fas fa-star mr-2 text-yellow-500"></i>
                    Trip Highlights
                </h2>
                <button class="toggle-btn text-gray-500 hover:text-gray-700">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="collapsible-content max-h-[500px]" data-expanded="true">
                <div class="p-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex items-center mb-3">
                            <div class="bg-red-100 p-3 rounded-full mr-3">
                                <i class="fas fa-mountain text-red-500"></i>
                            </div>
                            <h3 class="font-bold text-lg">Machu Picchu</h3>
                        </div>
                        <p class="text-gray-700">The ancient Incan citadel set high in the Andes Mountains. Don't forget to wake up early for sunrise at the Sun Gate!</p>
                        <div class="mt-3 flex items-center text-sm text-gray-500">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span>July 5-7, 2023</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex items-center mb-3">
                            <div class="bg-blue-100 p-3 rounded-full mr-3">
                                <i class="fas fa-umbrella-beach text-blue-500"></i>
                            </div>
                            <h3 class="font-bold text-lg">Copacabana Beach</h3>
                        </div>
                        <p class="text-gray-700">Iconic beach in Rio with golden sands and vibrant atmosphere. Try the fresh coconut water from beach vendors!</p>
                        <div class="mt-3 flex items-center text-sm text-gray-500">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span>June 18-20, 2023</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex items-center mb-3">
                            <div class="bg-green-100 p-3 rounded-full mr-3">
                                <i class="fas fa-tree text-green-500"></i>
                            </div>
                            <h3 class="font-bold text-lg">Amazon Rainforest</h3>
                        </div>
                        <p class="text-gray-700">3-day jungle adventure with river cruises, wildlife spotting, and a night in a treehouse lodge.</p>
                        <div class="mt-3 flex items-center text-sm text-gray-500">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span>June 25-28, 2023</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex items-center mb-3">
                            <div class="bg-yellow-100 p-3 rounded-full mr-3">
                                <i class="fas fa-water text-yellow-500"></i>
                            </div>
                            <h3 class="font-bold text-lg">Iguazu Falls</h3>
                        </div>
                        <p class="text-gray-700">Breathtaking waterfalls on the border of Brazil and Argentina. The boat ride under the falls is a must!</p>
                        <div class="mt-3 flex items-center text-sm text-gray-500">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span>July 10-11, 2023</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h2 class="title-font text-2xl">Christina's Adventure</h2>
                    <p class="text-gray-400">Making memories in South America</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-6 pt-6 text-center text-gray-400 text-sm">
                <p>© 2023 Christina's Travel App. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Nearby Recommendations Modal -->
    <div id="nearby-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <div class="bg-white rounded-lg shadow-xl mx-4">
                <div class="p-4 border-b flex justify-between items-center">
                    <h3 class="text-lg font-bold" id="modal-title">Nearby Recommendations</h3>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="modal-results" class="p-4 space-y-4"></div>
                <div class="p-4 border-t text-center">
                    <button id="close-modal-btn" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Device capabilities detection
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const hasGPS = 'geolocation' in navigator;
        const hasCamera = 'mediaDevices' in navigator && navigator.mediaDevices.getUserMedia;
        const hasCompass = 'ondeviceorientationabsolute' in window || 'ondeviceorientation' in window;
        const hasMotion = 'ondevicemotion' in window;
        const hasCalendar = 'calendar' in navigator || (isMobile && 'share' in navigator);

        // Enhanced location handling with compass and motion
        let currentLocation = null;
        let currentHeading = null;
        let currentAccuracy = null;
        let map = null;
        let placesService = null;
        let markers = [];
        let watchId = null;

        function initMap() {
            const mapElement = document.getElementById('interactive-map');
            if (mapElement) {
                map = new google.maps.Map(mapElement, {
                    center: {lat: -8.7832, lng: -55.4915},
                    zoom: 3,
                    mapTypeControl: false,
                    streetViewControl: false,
                    fullscreenControl: true
                });
                placesService = new google.maps.places.PlacesService(map);
                
                // Add current location button
                // Buttons may not be present in the current layout, so check before attaching
                const currentBtn = document.getElementById('current-location');
                if (currentBtn) currentBtn.addEventListener('click', centerMapOnLocation);
            }
        }

        function centerMapOnLocation() {
            if (!hasGPS) {
                alert('GPS not available on this device');
                return;
            }
            
            const statusElement = document.getElementById('location-status');
            statusElement.textContent = 'Getting your location...';
            
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
            }
            
            watchId = navigator.geolocation.watchPosition(
                (position) => {
                    currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    currentAccuracy = position.coords.accuracy;
                    
                    map.setCenter(currentLocation);
                    map.setZoom(15);
                    
                    // Add accuracy circle
                    if (window.accuracyCircle) {
                        window.accuracyCircle.setMap(null);
                    }
                    window.accuracyCircle = new google.maps.Circle({
                        strokeColor: '#4285F4',
                        strokeOpacity: 0.8,
                        strokeWeight: 2,
                        fillColor: '#4285F4',
                        fillOpacity: 0.2,
                        map: map,
                        center: currentLocation,
                        radius: currentAccuracy
                    });
                    
                    statusElement.textContent = `Location found (Accuracy: ${Math.round(currentAccuracy)}m)`;
                },
                (error) => {
                    statusElement.textContent = 'Error getting location: ' + error.message;
                },
                { 
                    enableHighAccuracy: true, 
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        // Add compass heading if available
        if (hasCompass) {
            window.addEventListener('deviceorientation', (event) => {
                if (event.absolute !== undefined || event.webkitCompassHeading !== undefined) {
                    currentHeading = event.absolute ? event.alpha : event.webkitCompassHeading;
                    if (map && currentLocation) {
                        // Rotate map to match device orientation
                        map.setHeading(currentHeading);
                    }
                }
            });
        }

        function findNearbyPlaces() {
            if (!currentLocation) return;
            
            const type = document.getElementById('place-type').value;
            const typeName = document.getElementById('place-type').options[document.getElementById('place-type').selectedIndex].text;
            const request = {
                location: currentLocation,
                radius: 1000, // 1km radius
                type: [type]
            };
            
            placesService.nearbySearch(request, (results, status) => {
                const modal = document.getElementById('nearby-modal');
                const modalResults = document.getElementById('modal-results');
                const modalTitle = document.getElementById('modal-title');
                
                modalTitle.textContent = `Nearby ${typeName}`;
                modalResults.innerHTML = '';
                
                if (status === google.maps.places.PlacesServiceStatus.OK) {
                    // Show top 5 results in modal
                    results.slice(0, 5).forEach(place => {
                        const placeElement = document.createElement('div');
                        placeElement.className = 'bg-gray-50 rounded-lg p-4';
                        placeElement.innerHTML = `
                            <h3 class="font-bold text-lg">${place.name}</h3>
                            <p class="text-gray-600 mt-1">${place.vicinity || 'Address not available'}</p>
                            <div class="flex items-center justify-between mt-3">
                                <div class="flex items-center">
                                    <span class="text-yellow-500 font-medium">
                                        ${place.rating ? '★'.repeat(Math.round(place.rating)) + ' ' + place.rating : 'No rating'}
                                    </span>
                                    ${place.user_ratings_total ? 
                                        `<span class="text-gray-500 text-sm ml-2">(${place.user_ratings_total})</span>` : ''}
                                </div>
                                <a href="https://www.google.com/maps/dir/?api=1&destination=${place.geometry.location.lat()},${place.geometry.location.lng()}" 
                                   class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition flex items-center">
                                    <i class="fas fa-directions mr-2"></i> Directions
                                </a>
                            </div>
                        `;
                        modalResults.appendChild(placeElement);
                    });
                } else {
                    modalResults.innerHTML = '<p class="text-gray-500 text-center py-4">No results found for this location.</p>';
                }
                
                // Show modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });
        }

        // Get user's location and then find nearby places
        function getLocation() {
            if (!hasGPS) {
                alert('GPS not available on this device');
                return;
            }

            const statusElement = document.getElementById('location-status');
            statusElement.textContent = 'Getting your location...';

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    currentAccuracy = position.coords.accuracy;

                    if (map) {
                        map.setCenter(currentLocation);
                        map.setZoom(15);
                    }

                    statusElement.textContent = `Location found (Accuracy: ${Math.round(currentAccuracy)}m)`;
                    findNearbyPlaces();
                },
                (error) => {
                    statusElement.textContent = 'Error getting location: ' + error.message;
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        // Initialize map and set up event listeners
        document.addEventListener('DOMContentLoaded', () => {
            initMap();
            document.getElementById('find-nearby').addEventListener('click', getLocation);
            
            // Modal close handlers
            document.getElementById('close-modal').addEventListener('click', closeModal);
            document.getElementById('close-modal-btn').addEventListener('click', closeModal);
            document.getElementById('nearby-modal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
        });

        function closeModal() {
            const modal = document.getElementById('nearby-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Page navigation functionality
        function showPage(pageId) {
            document.querySelectorAll('[id$="-page"]').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        document.querySelectorAll('[href^="#"]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('href').substring(1);
                showPage(pageId);
            });
        });

        document.querySelectorAll('.back-btn, .home-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                showPage('home-page');
            });
        });

        // Initialize with home page visible
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('home-page').classList.remove('hidden');
        });

        // Fix for iOS viewport height
        function setViewportHeight() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        setViewportHeight();
        window.addEventListener('resize', setViewportHeight);
        
        // Toggle packing items
        document.querySelectorAll('.packing-item input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const item = this.closest('.packing-item');
                if (this.checked) {
                    item.classList.add('completed');
                } else {
                    item.classList.remove('completed');
                }
            });
        });
        
        // Add new packing item
        document.querySelector('.packing-list button').addEventListener('click', function() {
            const input = document.querySelector('.packing-list input[type="text"]');
            if (input.value.trim() !== '') {
                const list = document.querySelector('.packing-list ul');
                const newItem = document.createElement('li');
                newItem.className = 'packing-item flex items-center';
                newItem.innerHTML = `
                    <input type="checkbox" class="mr-2 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                    <span>${input.value}</span>
                `;
                list.appendChild(newItem);
                input.value = '';
                
                // Add event listener to new checkbox
                newItem.querySelector('input').addEventListener('change', function() {
                    if (this.checked) {
                        newItem.classList.add('completed');
                    } else {
                        newItem.classList.remove('completed');
                    }
                });
            }
        });
        
        // Collapsible sections functionality
        document.querySelectorAll('.toggle-btn').forEach(button => {
            button.addEventListener('click', function() {
                const section = this.closest('div').nextElementSibling;
                const isExpanded = section.getAttribute('data-expanded') === 'true';
                
                if (isExpanded) {
                    section.style.maxHeight = '0';
                    section.setAttribute('data-expanded', 'false');
                    this.innerHTML = '<i class="fas fa-chevron-right"></i>';
                } else {
                    section.style.maxHeight = section.scrollHeight + 'px';
                    section.setAttribute('data-expanded', 'true');
                    this.innerHTML = '<i class="fas fa-chevron-down"></i>';
                }
            });
        });

        // Photo gallery functionality
        const photoGallery = document.querySelector('.photo-gallery');
        const photoUpload = document.getElementById('photo-upload');
        const uploadProgress = document.getElementById('upload-progress');
        const uploadCount = document.getElementById('upload-count');
        
        // Load any saved photos from localStorage
        const savedPhotos = JSON.parse(localStorage.getItem('tripPhotos')) || [];
        
        // Display saved photos
        function displayPhotos() {
            photoGallery.innerHTML = '';
            savedPhotos.forEach(photoData => {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item';
                photoItem.style.backgroundImage = `url(${photoData})`;
                photoItem.style.backgroundSize = 'cover';
                photoItem.style.backgroundPosition = 'center';
                photoGallery.appendChild(photoItem);
            });
            
            // Add empty slots if less than 6 photos
            for (let i = savedPhotos.length; i < 6; i++) {
                const emptyItem = document.createElement('div');
                emptyItem.className = 'photo-item bg-gray-100';
                photoGallery.appendChild(emptyItem);
            }
        }
        
        // Handle photo uploads
        photoUpload.addEventListener('change', function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                uploadProgress.classList.remove('hidden');
                uploadCount.textContent = files.length;
                
                let processed = 0;
                
                Array.from(files).forEach(file => {
                    if (file.type.match('image.*')) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            savedPhotos.push(e.target.result);
                            localStorage.setItem('tripPhotos', JSON.stringify(savedPhotos));
                            processed++;
                            
                            if (processed === files.length) {
                                uploadProgress.classList.add('hidden');
                                displayPhotos();
                            }
                        };
                        
                        reader.readAsDataURL(file);
                    } else {
                        processed++;
                        if (processed === files.length) {
                            uploadProgress.classList.add('hidden');
                            displayPhotos();
                        }
                    }
                });
            }
        });
        
        // Initial display
        displayPhotos();
    </script>
</body>
</html>
